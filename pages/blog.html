<!DOCTYPE html>

<body>
    <ul id="chat" style="list-style-type: none;"></ul>

    <form onsubmit="send()">
        <input type="text" id="message">
        <input type="submit" value="send">
    </form>

    <script type="text/javascript">
        readChat()

        async function readChat() {
            fetch('https://uncleleo037.github.io/chat.json')
                .then((res) => res.json())
                .then((data) => {
                    data.forEach(msg => {
                        let message = document.createElement('li')
                        message.appendChild(document.createTextNode(data.contents))
                        document.getElementById("chat").appendChild(message)
                    })
                })
                .catch(error => console.error("Unable to connect to chat", error))
        }

        function writeChat() {

        }

        function send() {
            let message = document.getElementById("message")
            writeChat(message.innerText)
            readChat()
            message.innerText = ""
        }
    </script>

</body>

</html>